<!-- Profile Page -->
{% extends 'shared/layout.html' %}

{% block content %}
<div class="container section">
  <div class="row">
    <h3>Profile</h3>
    <!-- gender zip age -->
    <div class="col-md-4 offset-md-4">
      <div class="col-xs-12">
        {% if message.type == 1 %}
        <div class="alert alert-success" role="alert">
          {{ message.message }}
        </div>
        {% endif %}
        {% if message.type == 2 %}
        <div class="alert alert-danger" role="alert">
          {{ message.message }}
        </div>
        {% endif %}
      </div>
      <div class="login-form bg-light mt-4 p-4">
        <form action="/profile" method="POST" class="row g-3" action="{{ url_for('profile') }}">
          <!-- checkout the validator url, this might need to be dynamic -->
          BIO
          <div class="col-12">
            <label>{{ form.first_name.label }}</label>
            {{ form.first_name(value=user.first_name, class="form-control",placeholder="First Name") }}
          </div>
          <div class="col-12">
            <label>{{ form.last_name.label }}</label>
            {{ form.last_name(value=user.last_name, class="form-control",placeholder="Last Name") }}
          </div>
          <div class="col-12">
            <label>{{ form.email_address.label }}</label>
            {{ form.email_address(value=user.email_address, class="form-control",placeholder="Email Address") }}
            <!-- {% if form.email_address.errors %}
              <ul class="errors">
                {% for error in form.email_address.errors %}
                  <li>{{ error }}</li>
                {% endfor %}
              </ul>
            {% endif %} -->
          </div>
          <div class="col-12">
            <button action="/profile" type="submit" name="bio" value="updatebio" class="btn btn-dark float-end">Update</button>
          </div>

          <hr class="mt-4">
          DEMO
          <div class="col-12">
            <label>{{ form.gender.label }}</label>
            {{ form.gender(value=user.gender, class="form-control",placeholder="Gender") }}
          </div>
          <div class="col-12">
            <label>{{ form.age.label }}</label>
            {{ form.age(value=user.age, class="form-control",placeholder="age") }}
          </div>
          <div class="col-12">
            <label>{{ form.zipcode.label }}</label>
            {{ form.zipcode(value=user.zipcode, class="form-control",placeholder="zipcode") }}
          </div>
          <div class="col-12">
            <button action="/profile" type="submit" name="demo" value="updatedemo" class="btn btn-dark float-end">Update</button>
          </div>

          <hr class="mt-4">
          SECURITY
          <div class="col-12">
            <label>{{ form.current_password.label }}</label>
            {{ form.current_password(value="none", class="form-control",placeholder="Current password") }}
          </div>
          <div class="col-12">
            <label>{{ form.new_password.label }}</label>
            {{ form.new_password(value='{{ user.new_password }}', class="form-control",placeholder="New Password") }}
          </div>
          <div class="col-12">
            {{ form.repeat_new_password(value=repeat_new_password, class="form-control",placeholder="Repeat New Password") }}
          </div>
          <div class="col-12">
            <button action="/profile" type="submit" name="security" value="updatesecurity" class="btn btn-dark float-end">Update</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

{% endblock %}
